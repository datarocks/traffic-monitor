# see https://docs.frigate.video/configuration/reference
mqtt:
  enabled: true
  host: nodered
  port: 1883
  user: '{FRIGATE_MQTT_USER}'
  password: '{FRIGATE_MQTT_PASSWORD}'

detectors: 
  coral:
    type: edgetpu
    device: usb

ffmpeg:
  hwaccel_args: preset-rpi-64-h264

cameras:
  picam_h264:
    enabled: true
    ffmpeg:
      inputs:
      - path: rtsp://${HOSTNAME}:8554/picam_h264 #To be generated by shell script based on hostname
        roles:
        - detect
    detect:
      enabled: false # <---- disable detection until you have a working camera feed
      width: 2304 # <---- update for your camera's resolution
      height: 1296 # <---- update for your camera's resolution
      # Optional: desired fps for your camera for the input with the detect role (default: shown below)
      # NOTE: Recommended value of 5. Ideally, try and reduce your FPS on the camera.
      fps: 5
    zones:
      zone_capture:
        coordinates: 2304,1296,0,1296,0,493,998,268,2304,475
      zone_far:
        coordinates: 1248,556,926,497,231,657,477,769
      zone_near:
        coordinates: 1690,695,1355,563,429,754,825,982
      zone_radar:
        coordinates: 390,634,1039,464,1891,684,1087,1029

  picam_gs_h264: # <------ Name the camera
    enabled: false
    ffmpeg:
      inputs:
      - path: rtsp://${HOSTNAME}:8554/picam_gs_h264 #To be generated by shell script based on hostname
        roles:
        - detect
    detect:
      enabled: false # <---- disable detection until you have a working camera feed
      width: 1456 # <---- update for your camera's resolution
      height: 1088 # <---- update for your camera's resolution
      # Optional: desired fps for your camera for the input with the detect role (default: shown below)
      # NOTE: Recommended value of 5. Ideally, try and reduce your FPS on the camera.
      fps: 5
    zones:
      zone_far:
        coordinates: 1137,444,0,67,0,876
      zone_near:
        coordinates: 1456,1088,1456,539,1215,462,0,880,0,1088

objects:
  track:
  - bicycle
  - person
  - car
  - motorcycle
  - dog

record:
  enabled: true
  retain:
    days: 0
  events:
    retain:
      default: 1
      mode: active_objects

snapshots:
  enabled: true
  clean_copy: true
  bounding_box: true
  crop: False
  retain:
    default: 1
